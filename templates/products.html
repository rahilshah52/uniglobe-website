{% extends "base.html" %}
{% block content %}

<div class="container py-5">

  {% if not product_data %}
    <p class="text-center text-muted">No products available.</p>
  {% endif %}

  {% for category, cat_data in product_data.items() %}

    <div class="mb-5">

      <h3 class="fw-semibold mb-4">
        {{ cat_data.display_name }}
      </h3>

      <div class="row g-4">

        {% for item in cat_data.items %}

        <div class="col-6 col-md-4 col-lg-3">

          <a href="{{ url_for('product_detail', category=category, code=item.code) }}"
             class="text-decoration-none text-dark">

            <div class="card border-0 shadow-sm h-100 product-card">

              <img src="{{ url_for('static', filename=item.images[0]) }}"
                   class="card-img-top product-image">

              <div class="card-body text-center">
                <h6 class="fw-semibold mb-1">{{ item.title }}</h6>
                <small class="text-muted">{{ item.code }}</small>
              </div>

            </div>

          </a>

        </div>

        {% endfor %}

      </div>

    </div>

  {% endfor %}

</div>

<style>

.product-image {
  height: 250px;
  object-fit: contain;
  background: #f9f9f9;
  padding: 15px;
}

.product-card {
  transition: 0.3s ease;
  border-radius: 12px;
}

.product-card:hover {
  transform: translateY(-5px);
}

@media (max-width: 768px) {
  .product-image {
    height: 180px;
  }
}

</style>

{% endblock %}