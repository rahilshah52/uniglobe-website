{% extends "base.html" %}
{% block content %}

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>

/* ================= GLOBAL ================= */

body {
  font-family: 'Inter', sans-serif;
  overflow-x: hidden;
}

html {
  scroll-behavior: smooth;
}

/* ================= HERO ================= */

.hero {
  background: url("{{ url_for('static', filename='images/hero.webp') }}") no-repeat center center / cover;
  position: relative;
  padding: 140px 20px; /* Desktop unchanged */
  text-align: center;
  color: white;
}

.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.55);
}

.hero-content {
  position: relative;
  z-index: 2;
}

/* Mobile Hero Only */
@media (max-width: 768px) {
  .hero {
    padding: 80px 15px !important;
  }

  .hero .display-5 {
    font-size: 1.7rem !important;
  }

  .hero .lead {
    font-size: 1rem !important;
  }
}

/* ================= SECTIONS ================= */

.section {
  padding: 60px 0;
}

.section-title {
  font-size: 2.2rem;
  font-weight: 600;
  margin-bottom: 30px;
}

.about-dark {
  background: #111;
  color: white;
  padding: 40px;
  border-radius: 12px;
}

.highlight-section {
  background: linear-gradient(180deg, #e5e5e5 0%, #f7f7f7 100%);
  padding: 60px 20px;
}

/* ================= CAROUSEL ================= */

.scroll-wrapper {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;
  position: relative;
}

.scroll-wrapper::-webkit-scrollbar {
  display: none;
}

.scroll-track {
  display: flex;
  gap: 2rem;
  width: max-content;
  animation: scroll-left 40s linear infinite; /* Desktop only */
}

.scroll-item {
  flex: 0 0 auto;
  width: 220px;
  scroll-snap-align: start;
}

.scroll-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 10px;
  background: #f2f2f2;
  content-visibility: auto;
}

@keyframes scroll-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Mobile carousel adjustments */
@media (max-width: 768px) {

  .scroll-track {
    animation: none !important;
  }

  .scroll-item {
    width: 160px;
  }

  .scroll-item img {
    height: 120px;
  }

  .swipe-hint {
    display: block;
  }
}

/* Swipe hint */
.swipe-hint {
  display: none;
  position: absolute;
  top: 50%;
  right: 10px;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.45);
  color: white;
  padding: 8px 14px;
  border-radius: 20px;
  font-size: 0.85rem;
  pointer-events: none;
  opacity: 1;
  transition: opacity 0.4s ease;
  z-index: 5;
}

.swipe-hint.hidden {
  opacity: 0;
}

/* ================= FLOATING BUTTONS ================= */

#backToTop {
  display: none;
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  font-size: 18px;
  z-index: 999;
  align-items: center;
  justify-content: center;
}

#whatsappFloat {
  position: fixed;
  bottom: 25px;
  right: 20px;
  width: 50px;
  height: 50px;
  background: #25D366;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  z-index: 999;
  text-decoration: none;
}

#whatsappFloat:hover {
  background: #1ebe5d;
}

</style>

<!-- HERO -->
<div class="hero">
  <div class="hero-content">
    <h1 class="display-5">Global Sourcing, Seamless Delivery</h1>
    <p class="lead mt-3">Luxury Furniture, Lighting & Interior Solutions ‚Äì Delivered Internationally</p>
    <a href="/contact" class="btn btn-light btn-lg mt-4">Get a Quote</a>
  </div>
</div>

<!-- ABOUT -->
<div class="container section">
  <div class="row align-items-center">
    <div class="col-md-6">
      <div class="about-dark">
        <h2 class="section-title text-white">Who We Are</h2>
        <p>We deliver more than furniture ‚Äî we deliver visions.</p>
        <a href="/about" class="btn btn-outline-light mt-3">Discover Our Story ‚Üí</a>
      </div>
    </div>
    <div class="col-md-6 mt-4 mt-md-0">
      <img src="{{ url_for('static', filename='images/about.webp') }}"
           class="img-fluid rounded shadow"
           loading="lazy"
           alt="About Us">
    </div>
  </div>
</div>

<!-- WHY CHOOSE -->
<div class="highlight-section text-center">
  <h2 class="section-title text-dark">Why Top Designers Work With Us</h2>
  <div class="container">
    <div class="row g-4">
      <div class="col-md-3 col-6"><strong>üè≠ Curated Factory Network</strong><p>Trusted manufacturers.</p></div>
      <div class="col-md-3 col-6"><strong>üß∞ Customization</strong><p>Your specs possible.</p></div>
      <div class="col-md-3 col-6"><strong>üöö End-to-End</strong><p>We handle everything.</p></div>
      <div class="col-md-3 col-6"><strong>üì¶ One Shipment</strong><p>All categories together.</p></div>
    </div>
  </div>
</div>

<!-- PRODUCTS -->
<div class="section text-center" style="background:#f9f9f9;">
  <h2 class="section-title">Our Products</h2>

  <div class="scroll-wrapper" id="carouselWrapper">
    <div class="swipe-hint" id="swipeHint">Swipe ‚Üí</div>

    <div class="scroll-track">
      {% for cat, img in homepage_display.items() %}
      <div class="scroll-item">
        <a href="/products?category={{ cat }}" style="text-decoration:none;color:black;">
          <img src="{{ url_for('static', filename=img) }}" loading="lazy" alt="{{ cat }}">
          <p class="mt-2 fw-semibold">{{ homepage_display_names[cat] }}</p>
        </a>
      </div>
      {% endfor %}

      {% for cat, img in homepage_display.items() %}
      <div class="scroll-item">
        <a href="/products?category={{ cat }}" style="text-decoration:none;color:black;">
          <img src="{{ url_for('static', filename=img) }}" loading="lazy" alt="{{ cat }}">
          <p class="mt-2 fw-semibold">{{ homepage_display_names[cat] }}</p>
        </a>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<!-- SHOWROOM CTA -->
<div class="container section text-center">
  <h2 class="section-title">Visit Our Foshan Showroom</h2>
  <p class="mb-3">Experience our curated collection first-hand in China‚Äôs design capital.</p>
  <a href="/showroom" class="btn btn-outline-dark fw-semibold px-4 py-2 rounded-pill">
    Plan Your Visit ‚Üí
  </a>
</div>

<!-- BACK TO TOP -->
<button id="backToTop" class="btn btn-dark shadow">‚Üë</button>

<!-- FLOATING WHATSAPP -->
<a id="whatsappFloat"
   href="https://wa.me/919821524678"
   target="_blank">
   <i class="fab fa-whatsapp"></i>
</a>

<script>
document.addEventListener("DOMContentLoaded", function () {

  const wrapper = document.getElementById("carouselWrapper");
  const hint = document.getElementById("swipeHint");
  const backBtn = document.getElementById("backToTop");

  wrapper.addEventListener("scroll", function () {
    hint.classList.add("hidden");
  });

  window.addEventListener("scroll", function () {
    if (window.scrollY > 400) {
      backBtn.style.display = "flex";
    } else {
      backBtn.style.display = "none";
    }
  });

  backBtn.addEventListener("click", function () {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

});
</script>

{% endblock %}
