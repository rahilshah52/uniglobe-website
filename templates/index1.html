{% extends "base.html" %}
{% block content %}

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>

/* =========================
   GLOBAL
========================= */

body {
  font-family: 'Inter', sans-serif;
  color: #333;
  overflow-x: hidden;
}

html {
  scroll-behavior: smooth;
}

/* =========================
   HERO
========================= */

.hero {
  background: url("{{ url_for('static', filename='images/hero.webp') }}") no-repeat center center / cover;
  position: relative;
  padding: 140px 20px; /* DESKTOP unchanged */
  text-align: center;
  color: white;
}

.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.55);
}

.hero-content {
  position: relative;
  z-index: 2;
}

.hero-content h1,
.hero-content p {
  text-shadow: 0 3px 6px rgba(0,0,0,0.7);
}

/* =========================
   SECTIONS
========================= */

.section {
  padding: 60px 0;
}

.section-title {
  font-size: 2.2rem;
  font-weight: 600;
  margin-bottom: 30px;
}

.about-dark {
  background: #111;
  color: white;
  padding: 40px;
  border-radius: 12px;
}

/* =========================
   CAROUSEL
========================= */

.scroll-wrapper {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;
  position: relative;
}

.scroll-wrapper::-webkit-scrollbar {
  display: none;
}

.scroll-track {
  display: flex;
  gap: 2rem;
  width: max-content;
  animation: scroll-left 40s linear infinite; /* Desktop auto */
}

.scroll-item {
  flex: 0 0 auto;
  width: 220px; /* desktop unchanged */
  scroll-snap-align: start;
  transition: transform 0.3s ease;
}

.scroll-item:hover {
  transform: scale(1.05);
}

.scroll-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 10px;
}

@keyframes scroll-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* =========================
   SWIPE OVERLAY (Mobile Only)
========================= */

.swipe-hint {
  display: none;
}

/* =========================
   MOBILE OPTIMIZATION
========================= */

@media (max-width: 768px) {

  /* Disable auto animation */
  .scroll-track {
    animation: none !important;
  }

  /* Fix scroll freeze */
  html, body {
    overflow-x: hidden;
    overflow-y: auto;
  }

  .scroll-wrapper {
    touch-action: auto;
  }

  /* Hero smaller */
  .hero {
    padding: 70px 15px;
  }

  .hero h1 {
    font-size: 1.6rem;
  }

  .hero p {
    font-size: 1rem;
  }

  /* Carousel smaller */
  .scroll-item {
    width: 160px;
  }

  .scroll-item img {
    height: 120px;
  }

  /* Swipe overlay visible */
  .swipe-hint {
    display: block;
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.45);
    color: white;
    padding: 8px 14px;
    border-radius: 20px;
    font-size: 0.85rem;
    pointer-events: none;
    opacity: 1;
    transition: opacity 0.4s ease;
    z-index: 5;
  }

  .swipe-hint.hidden {
    opacity: 0;
  }
}

</style>

<!-- HERO -->
<div class="hero">
  <div class="hero-content">
    <h1 class="display-5">Global Sourcing, Seamless Delivery</h1>
    <p class="lead mt-3">Luxury Furniture, Lighting & Interior Solutions – Delivered Internationally</p>
    <a href="/contact" class="btn btn-light btn-lg mt-4">Get a Quote</a>
  </div>
</div>

<!-- ABOUT -->
<div class="container section">
  <div class="row align-items-center">
    <div class="col-md-6">
      <div class="about-dark">
        <h2 class="section-title text-white">Who We Are</h2>
        <p>At Rahi Imports, powered by Uniglobe Lifestyle, we deliver more than furniture — we deliver visions.</p>
        <a href="/about" class="btn btn-outline-light mt-3">Discover Our Story →</a>
      </div>
    </div>
    <div class="col-md-6 mt-4 mt-md-0">
      <img src="{{ url_for('static', filename='images/about.webp') }}"
           class="img-fluid rounded shadow"
           loading="lazy"
           alt="About Us">
    </div>
  </div>
</div>

<!-- PRODUCTS -->
<div class="section text-center" style="background:#f9f9f9;">
  <h2 class="section-title">Our Products</h2>

  <div class="scroll-wrapper" id="carouselWrapper">
    <div class="swipe-hint" id="swipeHint">Swipe →</div>

    <div class="scroll-track">

      {% for cat, img in homepage_display.items() %}
      <div class="scroll-item">
        <a href="/products?category={{ cat }}" style="text-decoration:none;color:black;">
          <img src="{{ url_for('static', filename=img) }}"
               loading="lazy"
               alt="{{ cat }}">
          <p class="mt-2 fw-semibold">{{ homepage_display_names[cat] }}</p>
        </a>
      </div>
      {% endfor %}

      {% for cat, img in homepage_display.items() %}
      <div class="scroll-item">
        <a href="/products?category={{ cat }}" style="text-decoration:none;color:black;">
          <img src="{{ url_for('static', filename=img) }}"
               loading="lazy"
               alt="{{ cat }}">
          <p class="mt-2 fw-semibold">{{ homepage_display_names[cat] }}</p>
        </a>
      </div>
      {% endfor %}

    </div>
  </div>

</div>

<!-- SERVICES -->
<div class="section text-center bg-light">
  <div class="container">
    <h2 class="section-title">Our Services</h2>
    <div class="row g-4 justify-content-center">
      {% set services = [
        ("custom.webp", "Custom Design"),
        ("global.webp", "Global Sourcing"),
        ("logistics.webp", "Logistics & Shipping"),
        ("support.webp", "End-to-End Service")
      ] %}
      {% for img, label in services %}
      <div class="col-6 col-md-3">
        <div class="card border-0 shadow-sm h-100 p-2 rounded-4">
          <img src="{{ url_for('static', filename='images/services/' + img) }}"
               class="img-fluid rounded-3 mb-2"
               loading="lazy"
               alt="{{ label }}">
          <p class="fw-semibold mb-0">{{ label }}</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<!-- CONTACT -->
<div class="section text-center bg-white">
  <div class="container">
    <h2 class="section-title">Get in Touch</h2>
    <p>Email us at<br>
      <a href="mailto:uniglobelifestyles@gmail.com" class="fw-semibold">
        uniglobelifestyles@gmail.com
      </a>
    </p>
    <a href="https://wa.me/919821524678" target="_blank"
       class="btn btn-success rounded-pill px-4 py-2">
      Chat on WhatsApp
    </a>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {

  const wrapper = document.getElementById("carouselWrapper");
  const hint = document.getElementById("swipeHint");

  wrapper.addEventListener("scroll", function () {
    hint.classList.add("hidden");
  });

});
</script>

{% endblock %}
